{"ast":null,"code":"import _classCallCheck from \"C:\\\\projects\\\\react\\\\sample_project_stock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\projects\\\\react\\\\sample_project_stock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\projects\\\\react\\\\sample_project_stock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\projects\\\\react\\\\sample_project_stock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\projects\\\\react\\\\sample_project_stock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\projects\\\\react\\\\sample_project_stock\\\\src\\\\containers\\\\Account\\\\AuthBtn\\\\googleAuthBtn.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport GoogleLogin from 'react-google-login';\nimport GooglePlusIcon from 'mdi-react/GooglePlusIcon';\nimport { auth, authError } from '../../../redux/actions/authActions';\nimport googleAuthSetting from '../../../config/google';\n\nvar AuthGoogleBtn = /*#__PURE__*/function (_Component) {\n  _inherits(AuthGoogleBtn, _Component);\n\n  function AuthGoogleBtn() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AuthGoogleBtn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AuthGoogleBtn)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.responseSuccess = function (response) {\n      var _this$props = _this.props,\n          dispatch = _this$props.dispatch,\n          history = _this$props.history;\n      dispatch(auth({\n        name: response.profileObj.name,\n        avatar: response.profileObj.imageUrl\n      }));\n      localStorage.setItem('easydev', response.accessToken);\n      history.push('/dashboard_default');\n    };\n\n    _this.responseError = function (response) {\n      var dispatch = _this.props.dispatch;\n      dispatch(authError(response.error));\n    };\n\n    return _this;\n  }\n\n  _createClass(AuthGoogleBtn, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(GoogleLogin, {\n        clientId: googleAuthSetting.client_id,\n        render: function render(renderProps) {\n          return React.createElement(\"button\", {\n            onClick: renderProps.onClick,\n            type: \"button\",\n            className: \"account__social-btn account__social-btn--google\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }, React.createElement(GooglePlusIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42\n            },\n            __self: this\n          }));\n        },\n        onSuccess: this.responseSuccess,\n        onFailure: this.responseError,\n        cookiePolicy: \"single_host_origin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return AuthGoogleBtn;\n}(Component);\n\nAuthGoogleBtn.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    action: PropTypes.string.isRequired,\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default withRouter(connect()(AuthGoogleBtn));","map":{"version":3,"sources":["C:/projects/react/sample_project_stock/src/containers/Account/AuthBtn/googleAuthBtn.jsx"],"names":["React","Component","PropTypes","withRouter","connect","GoogleLogin","GooglePlusIcon","auth","authError","googleAuthSetting","AuthGoogleBtn","responseSuccess","response","props","dispatch","history","name","profileObj","avatar","imageUrl","localStorage","setItem","accessToken","push","responseError","error","client_id","renderProps","onClick","propTypes","func","isRequired","shape","action","string"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,oCAAhC;AACA,OAAOC,iBAAP,MAA8B,wBAA9B;;IAEMC,a;;;;;;;;;;;;;;;;UASJC,e,GAAkB,UAACC,QAAD,EAAc;AAAA,wBACA,MAAKC,KADL;AAAA,UACtBC,QADsB,eACtBA,QADsB;AAAA,UACZC,OADY,eACZA,OADY;AAE9BD,MAAAA,QAAQ,CAACP,IAAI,CAAC;AAAES,QAAAA,IAAI,EAAEJ,QAAQ,CAACK,UAAT,CAAoBD,IAA5B;AAAkCE,QAAAA,MAAM,EAAEN,QAAQ,CAACK,UAAT,CAAoBE;AAA9D,OAAD,CAAL,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCT,QAAQ,CAACU,WAAzC;AACAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,oBAAb;AACD,K;;UAEDC,a,GAAgB,UAACZ,QAAD,EAAc;AAAA,UACpBE,QADoB,GACP,MAAKD,KADE,CACpBC,QADoB;AAE5BA,MAAAA,QAAQ,CAACN,SAAS,CAACI,QAAQ,CAACa,KAAV,CAAV,CAAR;AACD,K;;;;;;;6BAGQ;AACP,aACE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAEhB,iBAAiB,CAACiB,SAD9B;AAEE,QAAA,MAAM,EAAE,gBAAAC,WAAW;AAAA,iBACjB;AACE,YAAA,OAAO,EAAEA,WAAW,CAACC,OADvB;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,SAAS,EAAC,iDAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAKE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADiB;AAAA,SAFrB;AAWE,QAAA,SAAS,EAAE,KAAKjB,eAXlB;AAYE,QAAA,SAAS,EAAE,KAAKa,aAZlB;AAaE,QAAA,YAAY,EAAC,oBAbf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAiBD;;;;EAxCyBvB,S;;AAAtBS,a,CACGmB,S,GAAY;AACjBf,EAAAA,QAAQ,EAAEZ,SAAS,CAAC4B,IAAV,CAAeC,UADR;AAEjBhB,EAAAA,OAAO,EAAEb,SAAS,CAAC8B,KAAV,CAAgB;AACvBC,IAAAA,MAAM,EAAE/B,SAAS,CAACgC,MAAV,CAAiBH,UADF;AAEvBR,IAAAA,IAAI,EAAErB,SAAS,CAAC4B,IAAV,CAAeC;AAFE,GAAhB,EAGNA;AALc,C;AA0CrB,eAAe5B,UAAU,CAACC,OAAO,GAAGM,aAAH,CAAR,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport GoogleLogin from 'react-google-login';\r\nimport GooglePlusIcon from 'mdi-react/GooglePlusIcon';\r\nimport { auth, authError } from '../../../redux/actions/authActions';\r\nimport googleAuthSetting from '../../../config/google';\r\n\r\nclass AuthGoogleBtn extends Component {\r\n  static propTypes = {\r\n    dispatch: PropTypes.func.isRequired,\r\n    history: PropTypes.shape({\r\n      action: PropTypes.string.isRequired,\r\n      push: PropTypes.func.isRequired,\r\n    }).isRequired,\r\n  };\r\n\r\n  responseSuccess = (response) => {\r\n    const { dispatch, history } = this.props;\r\n    dispatch(auth({ name: response.profileObj.name, avatar: response.profileObj.imageUrl }));\r\n    localStorage.setItem('easydev', response.accessToken);\r\n    history.push('/dashboard_default');\r\n  }\r\n\r\n  responseError = (response) => {\r\n    const { dispatch } = this.props;\r\n    dispatch(authError(response.error));\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <GoogleLogin\r\n        clientId={googleAuthSetting.client_id}\r\n        render={renderProps => (\r\n          <button\r\n            onClick={renderProps.onClick}\r\n            type=\"button\"\r\n            className=\"account__social-btn account__social-btn--google\"\r\n          >\r\n            <GooglePlusIcon />\r\n          </button>\r\n        )}\r\n        onSuccess={this.responseSuccess}\r\n        onFailure={this.responseError}\r\n        cookiePolicy=\"single_host_origin\"\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(connect()(AuthGoogleBtn));\r\n"]},"metadata":{},"sourceType":"module"}